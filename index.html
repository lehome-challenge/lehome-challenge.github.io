<!DOCTYPE html>
<html lang="en">

<head>
    <!-- head Á±ª‰ºº import-->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>LeHome-Challenge-2026</title>
    <link rel="stylesheet" href="fontawesome-5.5/css/all.min.css" />
    <link rel="stylesheet" href="slick/slick.css">
    <link rel="stylesheet" href="slick/slick-theme.css">
    <link rel="stylesheet" href="magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/tooplate-infinite-loop.css" />
    <link rel="stylesheet" href="css/mine.css" />
    <link rel="icon" href="img/pku_logo.png" type="image/png">

</head>

<body>
    <section id="infinite" class="text-white tm-font-big tm-parallax">
        <nav class="navbar navbar-expand-md tm-navbar" id="tmNav">
            <div class="container">
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <i class="fas fa-bars navbar-toggler-icon"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#infinite">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#News">News</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#Overview">Overview</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#Challenge-format">Format</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#Details">Details</a>
                        </li>
                        <!-- <li class="nav-item">
                                <a class="nav-link tm-nav-link"
                                    href="#leaderboard">Leaderboard</a>
                            </li> -->
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#timeline">Timeline</a>
                        </li>
                        <!-- <li class="nav-item">
                                <a class="nav-link tm-nav-link"
                                    href="#Award">Award</a>
                            </li> -->
                        <!-- <li class="nav-item">
                                <a class="nav-link tm-nav-link"
                                    href="#Winners">Winners</a>
                            </li> -->
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#Organizers">Organizers</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link tm-nav-link" href="#Contact">Contact</a>
                        </li>
                        <!-- <li class="nav-item">
                                <a class="nav-link tm-nav-link"
                                    href="#SignUp">SignUp</a>
                            </li> -->
                    </ul>
                </div>
            </div>
        </nav>
        <!--‰∏ªÊ†áÈ¢ò-->
        <div class="text-center tm-hero-text-container">
            <div class="tm-hero-text-container-inner">
                <h2 class="tm-hero-title">LeHome Challenge 2026: Challenge
                    on Garment Manipulation Skill Learning in Household
                    Scenarios
                </h2>
            </div>
        </div>

    </section>
    <section id="News" class="tm-section-pad-top">
        <div class="container">
            <div class="row tm-content-box">
                <div class="col-lg-12 col-xl-12">
                    <div class="tm-intro-text-container">
                        <h2 class="tm-text-primary mb-4 tm-section-title">News</h2>
                        <div class="news-item">
                            <div class="news-date">
                                <span class="date">25</span>
                                <span class="month">Sept.</span>
                                <span class="year">2025</span>
                            </div>
                            <div class="news-content">
                                <p class="mb-4 tm-intro-text">
                                    The challenge webpage is online!
                                    <span class="rocket">üöÄ</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="Overview" class="tm-section-pad-top">
        <div class="container">
            <div class="row tm-content-box">
                <div class="col-lg-12 col-xl-12">
                    <div class="tm-intro-text-container">
                        <h2 class="tm-text-primary mb-4 tm-section-title">Overview</h2>

                        <p class="mb-4 tm-intro-text">
                            Garment manipulation is a fundamental yet highly challenging problem in robotic manipulation
                            area, involving complex, deformable objects and contact-rich interactions. The Lehome
                            Challenge aims to establish a standardized benchmarking platform for evaluating robotic
                            ability to understand and manipulate garments effectively, fostering innovation in policy
                            learning, model reasoning, visual perception and representation for deformable object
                            handling.
                        </p>
                        <h3 class="tm-text-primary mb-3">
                            Challenge Features</h3>
                        <li><strong>Garment Manipulation with Sufficient Diversity.</strong></li>
                        <li><strong>Evaluation in both Simulation and Real-World.</strong></li>
                        <li><strong>Low-Cost Robotic Manipulation Platform.</strong></li>


                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="Challenge-format" class="challenge-format-section">
        <div class="container">
            <h2 class="tm-text-primary mb-4 tm-section-title">Challenge
                Format</h2>
            <div class="mb-4 tm-intro-text">
                <p>Our Competition comprises two components: the Simulation Challenge and the Real-World Challenge. The
                    Simulation Challenge will take place from late
                    2025 to early
                    2026. The top 8 ranked participants in this phase will be
                    invited to compete in the Real-World Challenge, which will
                    be held on-site at ICRA. In the Simulation Challenge, we will open-source the
                    benchmark environment in advance to allow participants to
                    test tasks locally. Participants are required to submit their
                    code and models via a cloud platform, where final testing and
                    score announcement will also be conducted. For the Real-
                    World Challenge, a dedicated venue will be set up at the
                    ICRA site for on-site model testing.</p>
                <p>
                    The task for this Challenge is garment folding. Participants are required to leverage models to
                    perceive the current state of the garment, perform flattening
                    or folding operations, and ultimately fold the garment into
                    a proper form. We encourage the use of any approach for
                    robotic operation, including but not limited to end-to-end
                    models, affordance-based methods, and sim2real techniques.
                </p>
            </div>
        </div>

    </section>

    <section id="Details" class="tm-section-pad-top">
        <div class="container">
            <h2 class="tm-text-primary mb-4 tm-section-title">Competition Details</h2>

            <div class="task-slider">
                <div class="task-wrapper">
                    <div class="task-item">
                        <h4 class="task-title">Task Environment Setting</h4>
                        <p class="mb-4 tm-intro-text">
                            Garments are children's size due to SO-ARM 101 reach, but are structurally comparable to
                            adult
                            garments for manipulation tasks.</p>
                        <div class="difficulty-row">
                            <div class="difficulty-item"><strong>Platform: </strong> HuggingFace LeRobot SO-ARM 101 with
                                RealSense L515; white tabletop background.</div>
                            <div class="difficulty-item"><strong>Configuration: </strong> participants may customize arm
                                and camera positions.</div>
                            <div class="difficulty-item"><strong>Simulation Challenge:</strong> additional
                                cameras/hardware can be added directly in simulation.</div>
                            <div class="difficulty-item"><strong>Real-World Challenge:</strong> participants must supply
                                any extra hardware themselves.</div>
                        </div>
                        <div class="spacer" aria-hidden="true"></div>

                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>

                        <div class="figure-wrapper">
                            <figure class="figure-responsive">
                                <img src="img/style.png" alt="..." class="responsive-img" loading="lazy">
                                <figcaption>Figure 1: Garment Category and Style.</figcaption>
                            </figure>
                        </div>
                    </div>

                    <div class="task-item">
                        <h4 class="task-title">Garment Category and Style</h4>
                        <p class="mb-4 tm-intro-text">
                            Garments are children's size due to SO-ARM 101 reach, but are structurally comparable to
                            adult
                            garments for manipulation tasks.</p>
                        <div class="difficulty-row">
                            <div class="difficulty-item"><strong>Two categories:</strong> tops (3 styles:
                                long-sleeved,
                                short-sleeved, sleeveless) and pants (2 styles:
                                long pants, shorts).</div>
                            <div class="difficulty-item"><strong>Dataset selection:</strong> for each style, 3
                                garments
                                in the training set and 1 unseen garment added to
                                the test set ‚Üí total 15 training and 20 testing garments.</div>
                            <div class="difficulty-item"><strong>Real-to-sim alignment:</strong> real garments will
                                be
                                3D-scanned and converted into simulation assets.</div>
                        </div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>

                        <div class="figure-wrapper">
                            <figure class="figure-responsive">
                                <img src="img/style.png" alt="..." class="responsive-img" loading="lazy">
                                <figcaption>Figure 1: Garment Category and Style.</figcaption>
                            </figure>
                        </div>
                    </div>
                    <div class="task-item">
                        <h4 class="task-title">Task Difficulty Levels</h4>
                        <p class="mb-4 tm-intro-text">
                            To fully test the capabilities of the models, we have designed three distinct initial
                            states
                            for various garments, corresponding to three difficulty levels
                            (i.e., easy, middle, hard).</p>
                        <div class="difficulty-row">
                            <div class="difficulty-item"><strong>Easy:</strong> The target garment starts in a fully
                                flat
                                initial
                                state, with all its key points fully exposed.</div>
                            <div class="difficulty-item"><strong>Middle:</strong> The garment's initial state
                                features
                                slight fold
                                ing, where some (but not all) key points are hidden.</div>
                            <div class="difficulty-item"><strong>Hard:</strong> The garment begins in a heavily
                                folded
                                initial state, making it
                                potentially difficult to identify the garment's shape.</div>
                        </div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>
                        <div class="spacer" aria-hidden="true"></div>

                        <div class="figure-wrapper">
                            <figure class="figure-responsive">
                                <img src="img/level.png" alt="..." class="responsive-img" loading="lazy">
                                <figcaption>Figure 2: Task Difficulty Levels.</figcaption>
                            </figure>
                        </div>
                    </div>

                    <div class="task-item">
                        <h4 class="task-title">Garment Category</h4>
                        <p class="mb-4 tm-intro-text">The test set includes 15 seen objects and 5
                            unseen objects. Each garment has three initial states, forming
                            a total of 60 experiments. The model of each participating
                            team will be tested sequentially across all 60 experiments, with success rate serving as
                            the
                            key metric for qualification.
                            The top 8 teams ranked by success rate will qualify for the
                            Real-World Challenge.
                        </p>
                        <iframe
                            src="https://docs.google.com/spreadsheets/d/1QdSMgc803d4aN_N2XPgVm9N3GBtzVSnkCGCvJoM0uJg/edit?usp=sharing"
                            width="100%" height="600" frameborder="0" scrolling="no">
                        </iframe>
                    </div>

                    <div class="task-item">
                        <h4 class="task-title">Scores on Tasks with Different Settings</h4>
                        <p class="mb-4 tm-intro-text">In the real-robot testing competition, each
                            team is allocated 15 minutes for garment folding. Teams
                            may freely select the garments and initial states they wish to
                            operate on, with different garment-initial state combinations
                            assigned distinct score.</p>
                        <iframe
                            src="https://docs.google.com/spreadsheets/d/11xjF_av3U7HqCxtLkwy7vl8lhYJcePOvv9kA4w5vzWY/edit?usp=sharing"
                            width="100%" height="600" frameborder="0" scrolling="no">
                        </iframe>
                    </div>
                </div>
            </div>

            <div class="slider-controls">
                <button id="prevBtn" class="slider-btn" disabled>Previous</button>
                <button id="nextBtn" class="slider-btn">Next</button>
            </div>
        </div>
    </section>


    <style>
        .leaderboard-nav {
            text-align: center;
            margin-bottom: 20px;
        }

        .leaderboard-nav-btn {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            background: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .leaderboard-nav-btn.active {
            border-bottom: 2px solid #0b0b0b;
            font-weight: bold;
        }

        .leaderboard-nav-btn:hover {
            border-bottom: 2px solid #0b0b0b;
        }
    </style>

    <script>
        function showLeaderboard(stage) {
            // Hide all leaderboards
            document.getElementById('stage1-leaderboard').style.display = 'none';
            document.getElementById('stage2-leaderboard').style.display = 'none';

            // Show selected leaderboard
            document.getElementById(stage + '-leaderboard').style.display = 'block';

            // Update button states
            const buttons = document.querySelectorAll('.leaderboard-nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>


    <section id="timeline" class="timeline-section">
        <style>
            .timeline-section {
                background-color: #f8f9fa;
                padding: 50px 0;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 15px;
            }

            .tm-section-title {
                font-size: 2.5rem;
                margin-bottom: 2rem;
                text-align: center;
            }

            .timeline {
                display: flex;
                overflow-x: auto;
                padding: 20px 0 40px;
                position: relative;
            }

            .timeline::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 0;
                right: 0;
                height: 2px;
                background: #0b0b0b;
                z-index: 1;
            }

            .timeline-item {
                flex: 0 0 auto;
                width: 200px;
                margin: 0 20px;
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                position: relative;
                z-index: 2;
            }

            .timeline-item::before {
                content: '';
                position: absolute;
                width: 20px;
                height: 20px;
                background: #0b0b0b;
                border-radius: 50%;
                bottom: -30px;
                left: 50%;
                transform: translateX(-50%);
            }

            .timeline-content h3 {
                margin: 0 0 10px;
                color: #0b0b0b;
                font-size: 1.2rem;
            }

            .timeline-content p {
                margin: 0;
                color: #666;
                font-size: 0.9rem;
            }
        </style>
        <div class="container">
            <h1 class="tm-text-primary mb-4 tm-section-title">Timeline</h1>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Code Release</h3>
                        <p>Nov 15, 2025</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Registration</h3>
                        <p>Dec 1, 2025 to</p>
                        <p>Dec 30, 2025</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Simulation Compeition</h3>
                        <p>Jan 1, 2026 to</p>
                        <p>Apr 5, 2026</p>

                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Real-World Competition</h3>
                        <p>Apr 6, 2026 to</p>
                        <p>Jun 3, 2026</p>

                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>Closing Ceremony</h3>
                        <p>Jun 4, 2026</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="Organizers" class="tm-section-pad-top">
        <div class="container">
            <h2 class="tm-text-primary mb-4 tm-section-title">Organizers</h2>

            <div class="row mb-5">

                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://warshallrho.github.io/';"
                        style="cursor: pointer;">
                        <img src="img/ruihai.png" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Ruihai Wu<br><small>Peking University</small></p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://github.com/wayrise';"
                        style="cursor: pointer;">
                        <img src="img/yuran.jpg" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Yuran Wang<br><small>Peking University</small></p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://github.com/1izeyi/';"
                        style="cursor: pointer;">
                        <img src="img/zeyi.png" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Zeyi Li<br><small>University of CAS</small></p>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://albilo17.github.io/';"
                        style="cursor: pointer;">
                        <img src="img/albi.png" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Alberta Longhini<br><small>KTH Royal Institute of Technology</small></p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://github.com/JadeYyang';"
                        style="cursor: pointer;">
                        <img src="img/yushi.jpg" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Yushi Yang<br><small>University of CAS</small></p>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <div class="organizer" onclick="window.location.href='https://github.com/JadeYyang';"
                        style="cursor: pointer;">
                        <img src="img/jingkai.jpg" class="img-fluid rounded-circle" alt="Organizer 1">
                        <p class="mt-2">Jingkai Xu<br><small>University of CAS</small></p>
                    </div>
                </div>
            </div>
            More organizers to be added.

        </div>
        </div>
    </section>
    <section id="Contact" class="tm-section-pad-top">
        <div class="container">
            <h2 class="tm-text-primary mb-4 tm-section-title">Contact
                Us</h2>
            <p class="tm-intro-text mb-5">Feel free to reach out to us
                through Email. We are here to assist you!</p>

            <div class="row">
                <!-- Discord Section -->
                <!-- <div class="col-lg-6 col-md-6 col-sm-12 mb-4">
                    <div class="contact-item text-center">
                        <img src="img/Discord.png" alt="Discord" class="contact-logo">
                        <h4 class="contact-title">Join us on Discord</h4>
                        <h4>Recommended</h4>
                        <p class="contact-info"><a href="https://discord.gg/CKucPQxQPr" target="_blank">discord-link</a></p>
                    </div>
                </div> -->

                <!-- Gmail Section -->
                <div class="col-lg-6 col-md-6 col-sm-12 mb-4">
                    <div class="contact-item text-center">
                        <img src="img/outlook_logo.png" alt="Gmail" class="contact-logo">
                        <h4 class="contact-title">Email us at Outlook</h4>
                        <p class="contact-info"><a
                                href="mailto:lehome-challenge@outlook.com">lehome-challenge@outlook.com</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="slick/slick.min.js"></script>
    <script src="magnific-popup/jquery.magnific-popup.min.js"></script>
    <script src="js/easing.min.js"></script>
    <script src="js/jquery.singlePageNav.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const taskWrapper = document.querySelector('.task-wrapper');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const items = Array.from(document.querySelectorAll('.task-item'));
            let currentTask = 0;
            const totalTasks = items.length;

            if (!taskWrapper || !prevBtn || !nextBtn || totalTasks === 0) return;

            // Á°Æ‰øù wrapper ÊîØÊåÅÂπ≥ÁßªÂä®ÁîªÔºà‰πüÂèØÂú® CSS ‰∏≠ÂÜôÔºâ
            taskWrapper.style.transition = taskWrapper.style.transition || 'transform 0.4s ease';

            function updateSlider() {
                // ‰ΩøÁî®ÁôæÂàÜÊØîÊªëÂä®ÔºàÊØèÈ°πÂç† 100%Ôºâ
                taskWrapper.style.transform = `translateX(-${currentTask * 100}%)`;
                prevBtn.disabled = currentTask === 0;
                nextBtn.disabled = currentTask === totalTasks - 1;
            }

            prevBtn.addEventListener('click', () => {
                if (currentTask > 0) {
                    currentTask--;
                    updateSlider();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentTask < totalTasks - 1) {
                    currentTask++;
                    updateSlider();
                }
            });

            // ÊîØÊåÅÈîÆÁõòÂ∑¶Âè≥ÈîÆÂàáÊç¢ÔºàÂèØÈÄâÔºâ
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prevBtn.click();
                if (e.key === 'ArrowRight') nextBtn.click();
            });

            // ÂàùÂßãÂåñÊòæÁ§∫
            updateSlider();

            // Â¶ÇÈúÄÂú®Á™óÂè£Â∞∫ÂØ∏ÂèòÂåñÊó∂ÈáçÊñ∞ËÆ°ÁÆóÔºàËã•Áî®ÂÉèÁ¥†ËÆ°ÁÆóÊó∂ÈúÄË¶ÅÔºâ
            window.addEventListener('resize', updateSlider);
        });
    </script>
    <script>
        $(document).ready(function () {
            // ÁºìÂ≠òÂØºËà™ÈìæÊé•Âíå section
            var sections = $('section');
            var navLinks = $('.tm-nav-link');

            $(window).on('scroll', function () {
                var currentScroll = $(this).scrollTop();

                sections.each(function () {
                    var sectionTop = $(this).offset().top - 100;  // 100pxÁöÑÁºìÂÜ≤Á©∫Èó¥ÔºåÂèØ‰ª•Ê†πÊçÆÂØºËà™Ê†èÈ´òÂ∫¶Ë∞ÉÊï¥
                    var sectionHeight = $(this).outerHeight();
                    var sectionId = $(this).attr('id');

                    // Âà§Êñ≠ÊªöÂä®‰ΩçÁΩÆÊòØÂê¶Âú®ÂΩìÂâçsectionÂÜÖ
                    if (currentScroll >= sectionTop && currentScroll < sectionTop + sectionHeight) {
                        navLinks.removeClass('active');  // ÁßªÈô§ÊâÄÊúâÈìæÊé•ÁöÑÈ´ò‰∫ÆÁä∂ÊÄÅ
                        $('.tm-nav-link[href="#' + sectionId + '"]').addClass('active');  // ÁªôÂΩìÂâçsectionÂØπÂ∫îÁöÑÂØºËà™ÈìæÊé•Ê∑ªÂä†È´ò‰∫ÆÁä∂ÊÄÅ
                    }
                });
            });
        });
    </script>

    <script>


        function getOffSet() {
            var _offset = 450;
            var windowHeight = window.innerHeight;

            if (windowHeight > 500) {
                _offset = 400;
            }
            if (windowHeight > 680) {
                _offset = 300
            }
            if (windowHeight > 830) {
                _offset = 210;
            }

            return _offset;
        }

        function setParallaxPosition($doc, multiplier, $object) {
            var offset = getOffSet();
            var from_top = $doc.scrollTop(),
                bg_css = 'center ' + (multiplier * from_top - offset) + 'px';
            $object.css({ "background-position": bg_css });
        }

        // Parallax function
        // Adapted based on https://codepen.io/roborich/pen/wpAsm
        var background_image_parallax = function ($object, multiplier, forceSet) {
            multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
            multiplier = 1 - multiplier;
            var $doc = $(document);
            // $object.css({"background-attatchment" : "fixed"});

            if (forceSet) {
                setParallaxPosition($doc, multiplier, $object);
            } else {
                $(window).scroll(function () {
                    setParallaxPosition($doc, multiplier, $object);
                });
            }
        };

        var background_image_parallax_2 = function ($object, multiplier) {
            multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
            multiplier = 1 - multiplier;
            var $doc = $(document);
            $object.css({ "background-attachment": "fixed" });

            $(window).scroll(function () {
                if ($(window).width() > 768) {
                    var firstTop = $object.offset().top,
                        pos = $(window).scrollTop(),
                        yPos = Math.round((multiplier * (firstTop - pos)) - 186);

                    var bg_css = 'center ' + yPos + 'px';

                    $object.css({ "background-position": bg_css });
                } else {
                    $object.css({ "background-position": "center" });
                }
            });
        };

        $(function () {
            // Hero Section - Background Parallax
            background_image_parallax($(".tm-parallax"), 0.30, false);
            background_image_parallax_2($("#contact"), 0.80);
            background_image_parallax_2($("#testimonials"), 0.80);

            // Handle window resize
            window.addEventListener('resize', function () {
                background_image_parallax($(".tm-parallax"), 0.30, true);
            }, true);

            // Detect window scroll and update navbar
            $(window).scroll(function (e) {
                if ($(document).scrollTop() > 120) {
                    $('.tm-navbar').addClass("scroll");
                } else {
                    $('.tm-navbar').removeClass("scroll");
                }
            });

            // Close mobile menu after click 
            $('#tmNav a').on('click', function () {
                $('.navbar-collapse').removeClass('show');
            })

            // Scroll to corresponding section with animation
            $('#tmNav').singlePageNav({
                'easing': 'easeInOutExpo',
                'speed': 600
            });

            // Add smooth scrolling to all links
            // https://www.w3schools.com/howto/howto_css_smooth_scroll.asp
            $("a").on('click', function (event) {
                if (this.hash !== "") {
                    event.preventDefault();
                    var hash = this.hash;

                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 600, 'easeInOutExpo', function () {
                        window.location.hash = hash;
                    });
                } // End if
            });

            // Pop up
            $('.tm-gallery').magnificPopup({
                delegate: 'a',
                type: 'image',
                gallery: { enabled: true }
            });

            $('.tm-testimonials-carousel').slick({
                dots: true,
                prevArrow: false,
                nextArrow: false,
                infinite: false,
                slidesToShow: 3,
                slidesToScroll: 1,
                responsive: [
                    {
                        breakpoint: 992,
                        settings: {
                            slidesToShow: 2
                        }
                    },
                    {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 2
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1
                        }
                    }
                ]
            });

            // Gallery
            $('.tm-gallery').slick({
                dots: true,
                infinite: false,
                slidesToShow: 5,
                slidesToScroll: 2,
                responsive: [
                    {
                        breakpoint: 1199,
                        settings: {
                            slidesToShow: 4,
                            slidesToScroll: 2
                        }
                    },
                    {
                        breakpoint: 991,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 2
                        }
                    },
                    {
                        breakpoint: 767,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }
                ]
            });
        });
    </script>
</body>

</html>